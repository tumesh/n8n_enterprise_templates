{
  "name": "Webhook → GPT → PDF → Email",
  "nodes": [
    {
      "parameters": {
        "path": "generate-report",
        "responseMode": "lastNode",
        "options": {}
      },
      "id": "webhook-start",
      "name": "Webhook",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 1,
      "position": [200, 300]
    },
    {
      "parameters": {
        "prompt": "Refine this content into professional paragraph:\n\n{{$json[\"content\"]}}",
        "model": "gpt-4",
        "temperature": 0.7,
        "max_tokens": 500
      },
      "id": "openai",
      "name": "Refine with GPT-4",
      "type": "n8n-nodes-base.openAi",
      "typeVersion": 1,
      "position": [420, 300],
      "credentials": {
        "openAiApi": {
          "id": "YOUR_OPENAI_CREDENTIAL_ID"
        }
      }
    },
    {
      "parameters": {
        "documentDefinition": {
          "content": [
            {
              "text": "{{$json[\"title\"]}}",
              "style": "header"
            },
            {
              "text": "{{$json[\"choices\"][0][\"text\"]}}",
              "margin": [0, 10, 0, 0]
            }
          ]
        },
        "options": {}
      },
      "id": "pdfmake",
      "name": "Generate PDF",
      "type": "n8n-nodes-base.pdfMake",
      "typeVersion": 1,
      "position": [640, 300]
    },
    {
      "parameters": {
        "fromEmail": "your@email.com",
        "toEmail": "recipient@email.com",
        "subject": "Your Refined Report",
        "text": "Here is the refined PDF you requested.",
        "attachments": [
          {
            "binaryPropertyName": "data"
          }
        ]
      },
      "id": "send-email",
      "name": "Send Email (SendGrid)",
      "type": "n8n-nodes-base.sendGrid",
      "typeVersion": 1,
      "position": [860, 300],
      "credentials": {
        "sendGridApi": {
          "id": "YOUR_SENDGRID_CREDENTIAL_ID"
        }
      }
    }
  ],
  "connections": {
    "Webhook": {
      "main": [
        [
          {
            "node": "Refine with GPT-4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Refine with GPT-4": {
      "main": [
        [
          {
            "node": "Generate PDF",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Generate PDF": {
      "main": [
        [
          {
            "node": "Send Email (SendGrid)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false
}
